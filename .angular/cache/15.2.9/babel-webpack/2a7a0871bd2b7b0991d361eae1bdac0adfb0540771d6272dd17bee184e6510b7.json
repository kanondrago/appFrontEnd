{"ast":null,"code":"var _class;\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services/api.service\";\nimport * as i3 from \"@angular/router\";\nexport class LoginComponent {\n  constructor(formBuilder, apiService, activatedRoute, router) {\n    this.formBuilder = formBuilder;\n    this.apiService = apiService;\n    this.activatedRoute = activatedRoute;\n    this.router = router;\n    this.isSubmitted = false;\n    this.returnUrl = '';\n  }\n  ngOnInit() {\n    this.loginForm = this.formBuilder.group({\n      username: ['', [Validators.required]],\n      password: ['', Validators.required]\n    });\n    // Verificamos la ultima version de activatedRoute\n    this.returnUrl = this.activatedRoute.snapshot.queryParams.returnUrl;\n  }\n  get fc() {\n    return this.loginForm.controls;\n  }\n  ///////////// Getter property ends /////////////\n  submit() {\n    this.isSubmitted = true;\n    if (this.loginForm.invalid) return;\n    this.apiService.login({\n      username: this.fc.username.value,\n      password: this.fc.password.value\n    }).subscribe(() => {\n      this.router.navigateByUrl(this.returnUrl);\n    });\n  }\n}\n_class = LoginComponent;\n_class.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ApiService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-login\"]],\n  decls: 23,\n  vars: 1,\n  consts: [[1, \"container-scroller\"], [1, \"container-fluid\", \"page-body-wrapper\", \"full-page-wrapper\"], [1, \"content-wrapper\", \"d-flex\", \"align-items-center\", \"auth\", \"px-0\"], [1, \"row\", \"w-100\", \"mx-0\"], [1, \"col-lg-4\", \"mx-auto\"], [1, \"auth-form-light\", \"text-left\", \"py-5\", \"px-4\", \"px-sm-5\"], [1, \"brand-logo\"], [1, \"fw-light\"], [1, \"pt-3\", 3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"type\", \"text\", \"id\", \"exampleInputText1\", \"placeholder\", \"Usuario\", \"formControlName\", \"username\", 1, \"form-control\", \"form-control-lg\"], [\"type\", \"password\", \"id\", \"exampleInputPassword1\", \"placeholder\", \"Contrase\\u00F1a\", \"formControlName\", \"password\", 1, \"form-control\", \"form-control-lg\"], [1, \"mt-3\"], [\"href\", \"../../index.html\", 1, \"btn\", \"btn-block\", \"btn-primary\", \"btn-lg\", \"font-weight-medium\", \"auth-form-btn\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6)(7, \"h2\");\n      i0.ɵɵtext(8, \"Technical Test - \");\n      i0.ɵɵelementStart(9, \"b\");\n      i0.ɵɵtext(10, \"FrontEnd\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(11, \"h4\");\n      i0.ɵɵtext(12, \"Bienvenido a la p\\u00E1gina de Logeo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"h6\", 7);\n      i0.ɵɵtext(14, \"Ingrese su usuario y contrase\\u00F1a\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"form\", 8);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_15_listener() {\n        return ctx.submit();\n      });\n      i0.ɵɵelementStart(16, \"div\", 9);\n      i0.ɵɵelement(17, \"input\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 9);\n      i0.ɵɵelement(19, \"input\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\", 12)(21, \"a\", 13);\n      i0.ɵɵtext(22, \"Iniciar Sesi\\u00F3n\");\n      i0.ɵɵelementEnd()()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n    }\n  },\n  dependencies: [i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";AACA,SAAiCA,UAAU,QAAQ,gBAAgB;;;;;AASnE,OAAM,MAAOC,cAAc;EAMzBC,YACUC,WAAwB,EACxBC,UAAsB,EACtBC,cAA8B,EAC9BC,MAAc;IAHd,gBAAW,GAAXH,WAAW;IACX,eAAU,GAAVC,UAAU;IACV,mBAAc,GAAdC,cAAc;IACd,WAAM,GAANC,MAAM;IAPhB,gBAAW,GAAG,KAAK;IACnB,cAAS,GAAG,EAAE;EAOX;EAEHC,QAAQ;IACN,IAAI,CAACC,SAAS,GAAG,IAAI,CAACL,WAAW,CAACM,KAAK,CAAC;MACtCC,QAAQ,EAAE,CAAC,EAAE,EAAE,CAACV,UAAU,CAACW,QAAQ,CAAC,CAAC;MACrCC,QAAQ,EAAE,CAAC,EAAE,EAAEZ,UAAU,CAACW,QAAQ;KACnC,CAAC;IAEF;IACA,IAAI,CAACE,SAAS,GAAG,IAAI,CAACR,cAAc,CAACS,QAAQ,CAACC,WAAW,CAACF,SAAS;EACrE;EAEA,IAAIG,EAAE;IACJ,OAAO,IAAI,CAACR,SAAS,CAACS,QAAQ;EAChC;EACA;EAEAC,MAAM;IACJ,IAAI,CAACC,WAAW,GAAG,IAAI;IACvB,IAAG,IAAI,CAACX,SAAS,CAACY,OAAO,EAAE;IAE3B,IAAI,CAAChB,UAAU,CAACiB,KAAK,CACnB;MACEX,QAAQ,EAAE,IAAI,CAACM,EAAE,CAACN,QAAQ,CAACY,KAAK;MAChCV,QAAQ,EAAE,IAAI,CAACI,EAAE,CAACJ,QAAQ,CAACU;KAC5B,CAAC,CAACC,SAAS,CAAC,MAAK;MAChB,IAAI,CAACjB,MAAM,CAACkB,aAAa,CAAC,IAAI,CAACX,SAAS,CAAC;IAC3C,CAAC,CAAC;EACN;;SAvCWZ,cAAc;;mBAAdA,MAAc;AAAA;;QAAdA,MAAc;EAAAwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV3BC,8BAAgC;MAOZA,iCAAiB;MAAAA,yBAAG;MAAAA,yBAAQ;MAAAA,iBAAI;MAEtCA,2BAAI;MAAAA,qDAA+B;MAAAA,iBAAK;MACxCA,8BAAqB;MAAAA,qDAA+B;MAAAA,iBAAK;MACzDA,gCAAiE;MAAnCA;QAAA,OAAYC,YAAQ;MAAA,EAAC;MACjDD,+BAAwB;MACtBA,6BAAiI;MACnIA,iBAAM;MACNA,+BAAwB;MACtBA,6BAA2I;MAC7IA,iBAAM;MACNA,gCAAkB;MACqFA,oCAAc;MAAAA,iBAAI;;;MARrHA,gBAAuB;MAAvBA,yCAAuB","names":["Validators","LoginComponent","constructor","formBuilder","apiService","activatedRoute","router","ngOnInit","loginForm","group","username","required","password","returnUrl","snapshot","queryParams","fc","controls","submit","isSubmitted","invalid","login","value","subscribe","navigateByUrl","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/Users/ronaldchavez/R/exalona/Projects/prueba/mmc-5418-technical-test-frontend/app/src/app/auth/login/login.component.ts","/Users/ronaldchavez/R/exalona/Projects/prueba/mmc-5418-technical-test-frontend/app/src/app/auth/login/login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ApiService } from 'src/app/services/api.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit{\n\n  loginForm!:FormGroup;\n  isSubmitted = false;\n  returnUrl = '';\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private apiService: ApiService,\n    private activatedRoute: ActivatedRoute,\n    private router: Router,\n  ) {}\n\n  ngOnInit(): void {\n    this.loginForm = this.formBuilder.group({\n      username: ['', [Validators.required]],\n      password: ['', Validators.required]\n    });\n\n    // Verificamos la ultima version de activatedRoute\n    this.returnUrl = this.activatedRoute.snapshot.queryParams.returnUrl;\n  }\n\n  get fc(){\n    return this.loginForm.controls;\n  }\n  ///////////// Getter property ends /////////////\n\n  submit(){\n    this.isSubmitted = true;\n    if(this.loginForm.invalid) return;\n\n    this.apiService.login(\n      {\n        username: this.fc.username.value, \n        password: this.fc.password.value\n      }).subscribe(() => {\n        this.router.navigateByUrl(this.returnUrl);\n      })\n  }\n}\n","<div class=\"container-scroller\">\n    <div class=\"container-fluid page-body-wrapper full-page-wrapper\">\n      <div class=\"content-wrapper d-flex align-items-center auth px-0\">\n        <div class=\"row w-100 mx-0\">\n          <div class=\"col-lg-4 mx-auto\">\n            <div class=\"auth-form-light text-left py-5 px-4 px-sm-5\">\n              <div class=\"brand-logo\">\n                <h2>Technical Test - <b>FrontEnd</b></h2>\n              </div>\n              <h4>Bienvenido a la página de Logeo</h4>\n              <h6 class=\"fw-light\">Ingrese su usuario y contraseña</h6>\n              <form [formGroup]=\"loginForm\" (ngSubmit)=\"submit()\" class=\"pt-3\">\n                <div class=\"form-group\">\n                  <input type=\"text\" class=\"form-control form-control-lg\" id=\"exampleInputText1\" placeholder=\"Usuario\" formControlName=\"username\" >\n                </div>\n                <div class=\"form-group\">\n                  <input type=\"password\" class=\"form-control form-control-lg\" id=\"exampleInputPassword1\" placeholder=\"Contraseña\" formControlName=\"password\">\n                </div>\n                <div class=\"mt-3\">\n                  <a class=\"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn\" href=\"../../index.html\">Iniciar Sesión</a>\n                </div>\n                <!-- <div class=\"my-2 d-flex justify-content-between align-items-center\">\n                  <div class=\"form-check\">\n                    <label class=\"form-check-label text-muted\">\n                      <input type=\"checkbox\" class=\"form-check-input\">\n                      Keep me signed in\n                    </label>\n                  </div>\n                  <a href=\"#\" class=\"auth-link text-black\">Forgot password?</a>\n                </div> -->\n                <!-- <div class=\"mb-2\">\n                  <button type=\"button\" class=\"btn btn-block btn-facebook auth-form-btn\">\n                    <i class=\"ti-facebook me-2\"></i>Connect using facebook\n                  </button>\n                </div> -->\n                <!-- <div class=\"text-center mt-4 fw-light\">\n                  Don't have an account? <a href=\"register.html\" class=\"text-primary\">Create</a>\n                </div> -->\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- content-wrapper ends -->\n    </div>\n    <!-- page-body-wrapper ends -->\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}